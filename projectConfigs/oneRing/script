class Rd{constructor(){this.useA=!1;let t=function(t){let r=parseInt(t.substr(0,8),16),s=parseInt(t.substr(8,8),16),a=parseInt(t.substr(16,8),16),e=parseInt(t.substr(24,8),16);return function(){r|=0,s|=0,a|=0,e|=0;let t=(r+s|0)+e|0;return e=e+1|0,r=s^s>>>9,s=a+(a<<3)|0,a=a<<21|a>>>11,a=a+t|0,(t>>>0)/4294967296}};this.prngA=new t(tokenData.hash.substr(2,32)),this.prngB=new t(tokenData.hash.substr(34,32));for(let t=0;t<1e6;t+=2)this.prngA(),this.prngB()}rD(){return this.useA=!this.useA,this.useA?this.prngA():this.prngB()}rN(t,r){return t+(r-t)*this.rD()}rI(t,r){return Math.floor(this.rN(t,r+1))}}function rW(t,r){let s,a=[];for(s=0;s<t.length;s++)a[s]=t[s].w+(a[s-1]||0);let e=r*a[a.length-1];for(s=0;s<a.length&&!(a[s]>e);s++);return t[s].v}let hash=tokenData.hash,R=new Rd(hash);const bH=parseFloat(tokenData.bH),bT=parseFloat(tokenData.bT),pH=parseFloat(tokenData.pH),pT=parseFloat(tokenData.pT),pO=parseFloat(tokenData.p0),b=rW([{v:1,w:25},{v:2,w:15},{v:3,w:25},{v:4,w:10},{v:5,w:10},{v:6,w:10},{v:7,w:25},{v:8,w:5},{v:9,w:5},{v:10,w:5},{v:11,w:5},{v:12,w:5}],R.rD()),s=rW([{v:.1,w:10},{v:.2,w:15},{v:.35,w:25},{v:.5,w:35},{v:.65,w:25},{v:.8,w:15},{v:.92,w:10}],R.rD()),st=rW([{v:0,w:74},{v:1,w:171},{v:2,w:49}],R.rD()),staW=[{v:.03,w:10},{v:.1,w:10},{v:.3,w:40},{v:.5,w:40},{v:.7,w:40},{v:1,w:40}],staP=[rW(staW,R.rD()),rW(staW,R.rD())],gr=rW([{v:0,w:35},{v:15,w:25},{v:30,w:10},{v:180,w:5}],R.rD()),rsV=rW([{v:0,w:10},{v:10,w:20},{v:30,w:30},{v:60,w:20},{v:180,w:10}],R.rD()),sp=rW([{v:0,w:10},{v:.5,w:20},{v:1,w:30},{v:3,w:20},{v:8,w:10}],R.rD()),tW=[{v:[30,90],w:10},{v:[50,100],w:10},{v:[70,80],w:10},{v:[100,70],w:10},{v:[90,50],w:10},{v:[80,30],w:10},{v:[5,100],w:10},{v:[100,10],w:10}],aT=st>0&&rW(tW,R.rD()),wh=function(t){return(R.rI(-10,10)+30*t)%360},bg=[wh(bH),tW[bT].v[0],tW[bT].v[1]],co=[[wh(pH),tW[pT].v[0],tW[pT].v[1],5*(1+2*pO)],st>0&&[wh(R.rI(0,11)),aT[0],aT[1],5*(1+2*R.rI(0,4))]],rQ=3e3,H=window.innerHeight,W=window.innerWidth,HY=Math.hypot(W,H),pD=Math.min(H,W)<1080?3:Math.min(H,W)<1440?2:1,pos=function(t,r){return-.005*t*HY+.01*t*HY*r};let t=0,rs=[];for(let t=0;t<rQ;t++)x=pos(1,R.rD()),y=pos(1,R.rD()),ra=t*(1-s/b*.5)*HY/rQ,pr=!(t%(rQ/b)<s*rQ/b),rV=R.rI(0,rsV),pr&&rs.push([x,y,ra,rV]);function dR(t,r,a){const e=a+(2==st&&Math.floor(r/(rs.length/b))%2==1?1:0),n=co[e][0],o=Math.floor(r/(rQ/b*(1-s))%(rQ/b))*(gr/b)%360,w=(n+t[3]+o)%360;noFill(),stroke(w,co[e][1],co[e][2],co[e][3]),strokeWeight(.0012*HY),circle(t[0],t[1],t[2])}function setup(){colorMode(HSB,360,100,100,100),pixelDensity(pD),angleMode(DEGREES),frameRate(30)}function draw(){createCanvas(W,H).position(0,0),background(bg),translate(W/2,H/2),1==st&&(translate(pos(5,staP[0]),pos(5,staP[1])),rotate(-t),rs.forEach(((t,r)=>dR(t,r,1))),rotate(t),translate(-pos(5,staP[0]),-pos(5,staP[1]))),rotate(t),rs.forEach(((t,r)=>dR(t,r,0))),t+=sp,keyPressed=function(){"s"===key&&saveCanvas("onering","png")}}