class Rd{constructor(){this.useA=!1;let r=function(r){let t=parseInt(r.substr(0,8),16),s=parseInt(r.substr(8,8),16),e=parseInt(r.substr(16,8),16),n=parseInt(r.substr(24,8),16);return function(){t|=0,s|=0,e|=0,n|=0;let r=(t+s|0)+n|0;return n=n+1|0,t=s^s>>>9,s=e+(e<<3)|0,e=e<<21|e>>>11,e=e+r|0,(r>>>0)/4294967296}};this.prngA=new r(artwork.seed.substr(2,32)),this.prngB=new r(artwork.seed.substr(34,32));for(let r=0;r<1e6;r+=2)this.prngA(),this.prngB()}rD(){return this.useA=!this.useA,this.useA?this.prngA():this.prngB()}rN(r,t){return r+(t-r)*this.rD()}rI(r,t){return Math.floor(this.rN(r,t+1))}}function rW(r,t){let s,e=[];for(s=0;s<r.length;s++)e[s]=r[s].w+(e[s-1]||0);let n=t*e[e.length-1];for(s=0;s<e.length&&!(e[s]>n);s++);return r[s].v}let seed=artwork.seed,R=new Rd(seed);const pH=parseFloat(artwork.traits.pH),pT=parseFloat(artwork.traits.pT);rH=parseFloat(artwork.traits.rH);const b=rW([{v:1,w:25},{v:2,w:15},{v:3,w:25},{v:4,w:10},{v:5,w:10},{v:6,w:10},{v:7,w:25},{v:8,w:5},{v:9,w:5},{v:10,w:5},{v:11,w:5},{v:12,w:5}],R.rD()),s=rW([{v:.1,w:10},{v:.2,w:15},{v:.35,w:25},{v:.5,w:35},{v:.65,w:25},{v:.8,w:15},{v:.92,w:10}],R.rD()),st=2==rH&&R.rD()<.7?1:2==rH?2:rW([{v:0,w:74},{v:1,w:171},{v:2,w:49}],R.rD()),staW=[{v:.03,w:10},{v:.1,w:10},{v:.3,w:40},{v:.5,w:40},{v:.7,w:40},{v:1,w:40}],staP=[rW(staW,R.rD()),rW(staW,R.rD())],gr=rW([{v:0,w:35},{v:15,w:25},{v:30,w:10},{v:180,w:5}],R.rD()),rsV=rW([{v:5,w:15},{v:10,w:40},{v:30,w:20},{v:60,w:7},{v:180,w:3}],R.rD()),oW=function(){return rW([{v:.15,w:5},{v:.25,w:10},{v:.5,w:25},{v:1,w:40}],R.rD())},hP=[[0],[1,11],[4,8],st<1?[6]:[5,6,7]],tW=[{v:[10,100],w:3},{v:[30,90],w:10},{v:[50,100],w:7},{v:[70,80],w:7},{v:[100,70],w:7},{v:[90,50],w:7},{v:[80,30],w:10},{v:[100,10],w:3}],aT=st>0&&rW(tW,R.rD()),aH=function(){return rW([{v:0,w:30},{v:1,w:10},{v:2,w:1},{v:3,w:3},{v:4,w:5},{v:5,w:1},{v:6,w:10},{v:7,w:1},{v:8,w:5},{v:9,w:3},{v:10,w:1},{v:11,w:10}],R.rD())},bT=rW(tW,R.rD()),gs=!!(4==rH&R.rD()<.05),wh=function(r){return(360+R.rI(-5,5)+30*r)%360},bg=[wh(pH+(rH<4?hP[rH][R.rI(0,hP[rH].length-1)]:aH())),gs?5:bT[0],bT[1]],co=[[wh(pH),gs?5:tW[pT].v[0],tW[pT].v[1],oW()],st>0&&[wh(pH+(rH<4?hP[rH][R.rI(0,hP[rH].length-1)]:aH())),gs?5:aT[0],aT[1],oW()]],sR=1==st&&0==R.rI(0,2)?2:1,rQ=3e3,H=window.innerHeight,W=window.innerWidth,HY=Math.hypot(W,H),pD=Math.min(H,W)<1080?3:2,pos=function(r,t){return-.005*r*HY+.01*r*HY*t};let t=0,rs=[],sp=1;for(let r=0;r<rQ;r++)x=pos(1,R.rD()),y=pos(1,R.rD()),ra=r*(1-s/b*.5)*HY/rQ,pr=!(r%(rQ/b)<s*rQ/b),rV=R.rI(-.5*rsV,.5*rsV),pr&&rs.push([x,y,ra,rV]);function dR(r,t,e,n){const w=e+(2==st&&Math.floor(t/(rs.length/b))%2==1?1:0),o=co[w][0],a=Math.floor(t/(rQ/b*(1-s))%(rQ/b))*(gr/b)%360,v=(o+r[3]+a)%360;n.stroke(v,co[w][1],co[w][2],co[w][3]),n.circle(HY+r[0],HY+r[1],r[2])}function setup(){function r(r,t){r.colorMode(r.HSB,360,100,100),r.noFill(),r.strokeWeight(.0012*HY),rs.forEach(((s,e)=>dR(s,e,t,r)))}colorMode(HSB,360,100,100,100),pixelDensity(pD),angleMode(DEGREES),frameRate(30),imageMode(CENTER),cG=createGraphics(2*HY,2*HY),cG2=1==st&&createGraphics(2*HY,2*HY),r(cG,0),cG2&&r(cG2,1)}function draw(){createCanvas(W,H).position(0,0),background(bg),translate(W/2,H/2),2==sR&&rotate(t),1==st&&(translate(pos(5,staP[0]),pos(5,staP[1])),rotate(-sR*t),image(cG2,0,0),rotate(sR*t),translate(-pos(5,staP[0]),-pos(5,staP[1]))),1==sR&&rotate(t),image(cG,0,0),t+=sp}function windowResized(){location.reload()}keyPressed=function(){\"s\"==key?saveCanvas(\"onering\",\"png\"):\"g\"==key?saveGif(\"onering\",sp>1?360/sp:360,{units:\"frames\"}):\"0\"==key?sp=0:\"1\"==key?sp=.1:\"2\"==key?sp=.5:\"3\"==key?sp=1:\"4\"==key?sp=3:\"5\"==key?sp=8:\"6\"==key?sp=40:\"7\"==key&&(sp=120)};