function randomHash(e){var n=Math.ceil(e=(+e||8)/2),o=new Uint8Array(n);window.crypto.getRandomValues(o);var r=Array.prototype.map.call(o,(function(e){return function(e){return"00".slice(e.length)+e}(e.toString(16))})),a=r.join("").toUpperCase();return e%2&&(a=a.slice(1)),a}class Random{constructor(){this.useA=!1;let e=function(e){let n=parseInt(e.substring(0,8),16),o=parseInt(e.substring(8,16),16),r=parseInt(e.substring(16,24),16),a=parseInt(e.substring(24,32),16);return function(){n|=0,o|=0,r|=0,a|=0;let e=(n+o|0)+a|0;return a=a+1|0,n=o^o>>>9,o=r+(r<<3)|0,r=r<<21|r>>>11,r=r+e|0,(e>>>0)/4294967296}};this.prngA=new e(seedText.substring(2,34)),this.prngB=new e(seedText.substring(34,66));for(let e=0;e<1e6;e+=2)this.prngA(),this.prngB()}random_dec(){return this.useA=!this.useA,this.useA?this.prngA():this.prngB()}random_num(e,n){return e+(n-e)*this.random_dec()}random_int(e,n){return Math.floor(this.random_num(e,n+1))}random_bool(e){return this.random_dec()<e}random_choice(e){return e[this.random_int(0,e.length-1)]}}let imageDimension,referenceRatio,referenceDimension,colorCategory,colorScheme,colorSchemes,colors=[],seedText=artwork.seed,seed=parseInt(seedText.slice(0,16),16),R1=new Random,R2=new Random,R3=new Random,R4=new Random,R5=new Random,R6=new Random,R7=new Random,R8=new Random,R9=new Random,Palette=artwork.traits.palette,Force=artwork.traits.force,Status=artwork.traits.status;function setup(){pixelDensity(1),referenceDimension=1600,imageDimension=Math.min(windowWidth,windowHeight),referenceRatio=imageDimension/referenceDimension,console.log("referenceDimension:"+referenceDimension),console.log("referenceRatio:"+referenceRatio),colorSchemeNames=["tetradic"],colorScheme=colorSchemeNames[R1.random_int(0,colorSchemeNames.length-1)],console.log("colorSceheme: "+colorScheme),colorMode(HSB,360,100,100,100),colors=generatePalette(Palette),createCanvas(imageDimension,imageDimension),getArt()}function getArt(){let e,n,o,r,a,t,m,s,i,c=R1.random_int(3,8),d=R1.random_int(3,8),u=R1.random_int(1,2),l=.3,R=R1.random_int(800,1600),_=R1.random_num(0,1)<.75;switch(console.log("ribbonLength:"+R),Force){case"Breeze":m=R1.random_int(5,9);break;case"Gust":m=R1.random_int(16,24),l*=.8;break;case"Gale":m=R1.random_int(40,60),l*=.5}colorMode(HSB,360,100,100,100),push();let h=colors[0].color,g=-30*R1.random_int(0,1)+15,p=color((hue(h)+360+g)%360,saturation(h),brightness(h),100);background(p),console.log("base hue: "+hue(p)),console.log("base saturation: "+saturation(p)),console.log("base brightness: "+brightness(p)),console.log("base alpha: "+alpha(p)),console.log("orderedFactor: "+u),console.log("maxNumRibbons: "+m),n=R1.random_num(-1,1),R1.random_num(0,1)<.2&&(n=R6.random_num(-.03,.03)),o=R1.random_num(-.5,.5),r=R1.random_num(-1,1)*referenceRatio,a=R1.random_num(-1,1)*referenceRatio,e=R1.random_num(.05,.8)*imageDimension,t=0,colorMode(HSB,360,100,100,100);for(let h=0;h<m;h++){let m=R7.random_num(l,1-l),g=R7.random_num(l,1-l),p=R7.random_num(0,1);switch(push(),angleMode(DEGREES),s=h>0?colors[R7.random_int(0,colors.length-1)]:colors[colors.length-1],stroke(s.color),strokeWeight(.001*imageDimension),Status){case"Riven":n=R8.random_num(-1,1),p<.1&&(n=R9.random_num(-.02,.02)),o=R8.random_num(-.5,.5),r=R8.random_num(-1,1)*referenceRatio,a=R8.random_num(-1,1)*referenceRatio,e=R8.random_num(.05,.8)*imageDimension,_=R1.random_num(0,1)<.05,t=50*Math.pow(R8.random_num(.1,1),8);break;case"Docked":e=R8.random_num(.05,.8)*imageDimension;break;case"Adrift":n=R8.random_num(-1,1),p<.1&&(n=R9.random_num(-.02,.02)),o=R8.random_num(-.5,.5),r=R8.random_num(-1,1)*referenceRatio,a=R8.random_num(-1,1)*referenceRatio,e=R8.random_num(.05,.8)*imageDimension,_=R1.random_num(0,1)<.05}switch(Force){case"Breeze":e*=R8.random_num(2,4);break;case"Gust":e*=R8.random_num(1,2);break;case"Gale":e*=R8.random_num(.5,1)}i=Math.abs(n)>Math.abs(o)?n/o:o/n,i>0&&i<4&&_&&(o*=-1);let b=m*imageDimension,f=g*imageDimension;if("Docked"==Status){let e=(1-2*l)*imageDimension;b=l*imageDimension+R8.random_int(0,c)*e/c,f=l*imageDimension+R8.random_int(0,d)*e/d,translate(b,f),rotate(360/u*R8.random_int(0,u-1))}else translate(b+(2*R8.random_dec()-1)*Math.pow(R8.random_dec(),3)*.1,f+(2*R8.random_dec()-1)*Math.pow(R8.random_dec(),3)*.1);let w=0;for(let m=0;m<R;m++)push(),w=t>0?(3*noise(.8*m)-1)*e:0,rotate(m*n),line(0,0,0,e+w),pop(),rotate(o),translate(r*R8.random_num(1-t,1+t),a*R8.random_num(1-t,1+t));pop()}return canvas.toDataURL()}function generatePalette(e){let n,o,r,a,t,m,s=[],i=R1.random_num(0,360),c=[];switch(e){case"DawnWhisper":i=R5.random_num(330,440)%360;break;case"TempestSurge":i=R6.random_num(180,330)}switch(colorScheme){case"monochromatic":c=Array(5).fill(i);break;case"analogous":n=R2.random_int(4,8);for(let e=0;e<n;e++)c.push((i+e*R3.random_num(10,20))%360);break;case"analogous_split":n=R2.random_int(4,7);for(let e=0;e<n;e++)c.push((i+12*e)%360);c[c.length-1]=(c[0]+300)%360;break;case"complementary":c=[i,(i+180)%360];break;case"splitComplementary":c=[i,(i+150)%360,(i+210)%360];break;case"triadic":c=[i,(i+120)%360,(i+240)%360];break;case"square":c=[i,(i+90)%360,(i+180)%360,(i+270)%360];break;case"tetradic":n="Riven"==Status&&"Breeze"==Force?3:R9.random_int(3,5);for(let e=0;e<n;e++)c.push((i+72*e)%360);break;case"hexadic":n="Riven"==Status&&"Breeze"==Force?3:R9.random_int(3,6);for(let e=0;e<n;e++)c.push((i+60*e)%360)}for(let n=0;n<c.length;n++){switch(e){case"WildCompass":o=R3.random_num(40,80),r=R3.random_num(40,100),a=c[n],t=15;break;case"Aurora":o=R3.random_num(80,100),r=R3.random_num(80,100),a=(c[n]+120)%360,t=15;break;case"DawnWhisper":a=c[n],R4.random_dec()>.3?(o=R4.random_num(10,40),r=R4.random_num(95,100)):(o=R4.random_num(30,90),r=R4.random_num(95,100)),0==n&&(o=R4.random_num(10,50),r=R4.random_num(90,100)),t=15;break;case"TempestSurge":a=c[n],R4.random_dec()>.2?(o=R5.random_num(20,80),r=R5.random_num(5,55)):(o=R5.random_num(30,50),r=R5.random_num(40,70)),0==n&&(o=R5.random_num(10,80),r=R5.random_num(10,30)),t=15}s.push({color:color(a,o,r,t),hue:c[n]})}switch(e){case"TempestSurge":m=s.length-1,s[m].color=color(hue(s[m].color),R4.random_num(10,60),R4.random_num(95,100),alpha(s[m].color));break;case"DawnWhisper":m=s.length-1,s[m].color=color(hue(s[m].color),R5.random_num(40,90),R5.random_num(90,95),alpha(s[m].color))}return s}console.log("Palette: "+Palette),console.log("Force: "+Force),console.log("Status: "+Status);