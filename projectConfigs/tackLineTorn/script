function randomHash(e){var n=Math.ceil(e=(+e||8)/2),o=new Uint8Array(n);window.crypto.getRandomValues(o);var r=Array.prototype.map.call(o,(function(e){return function(e){return"00".slice(e.length)+e}(e.toString(16))})),a=r.join("").toUpperCase();return e%2&&(a=a.slice(1)),a}class Random{constructor(){this.useA=!1;let e=function(e){let n=parseInt(e.substring(0,8),16),o=parseInt(e.substring(8,16),16),r=parseInt(e.substring(16,24),16),a=parseInt(e.substring(24,32),16);return function(){n|=0,o|=0,r|=0,a|=0;let e=(n+o|0)+a|0;return a=a+1|0,n=o^o>>>9,o=r+(r<<3)|0,r=r<<21|r>>>11,r=r+e|0,(e>>>0)/4294967296}};this.prngA=new e(seedText.substring(2,34)),this.prngB=new e(seedText.substring(34,66));for(let e=0;e<1e6;e+=2)this.prngA(),this.prngB()}random_dec(){return this.useA=!this.useA,this.useA?this.prngA():this.prngB()}random_num(e,n){return e+(n-e)*this.random_dec()}random_int(e,n){return Math.floor(this.random_num(e,n+1))}random_bool(e){return this.random_dec()<e}random_choice(e){return e[this.random_int(0,e.length-1)]}}let imageDimension,referenceRatio,referenceDimension,colorCategory,colorScheme,colorSchemes,colors=[],seedText=artwork.seed,seed=parseInt(seedText.slice(0,16),16),R1=new Random,R2=new Random,R3=new Random,R4=new Random,R5=new Random,R6=new Random,R7=new Random,R8=new Random,R9=new Random,R10=new Random,Palette=artwork.traits.palette,Complexity=artwork.traits.complexity,Organization=artwork.traits.organization;function setup(){switch(referenceDimension=R1.random_int(800,1600),imageDimension=Math.min(windowWidth,windowHeight),referenceRatio=imageDimension/referenceDimension,Complexity){case"Minimal":colorSchemeNames=["square","analogous_split","tetradic","hexadic"];break;case"Balanced":colorSchemeNames=["square","square","analogous_split","tetradic","hexadic"];break;case"Complex":colorSchemeNames=["square","square","tetradic","tetradic","hexadic","analogous_split"]}colorScheme=colorSchemeNames[R1.random_int(0,colorSchemeNames.length-1)],console.log("colorSceheme: "+colorScheme),colorMode(HSB,360,100,100,100),colors=generatePalette(Palette),createCanvas(imageDimension,imageDimension),getArt()}function getArt(){let e,n,o,r,a,t,m,i,s=R1.random_int(3,8),c=R1.random_int(3,8),d=R1.random_int(1,2),l=.3;switch(Complexity){case"Minimal":m=R1.random_num(5,9);break;case"Balanced":m=R1.random_num(16,24),l*=.8;break;case"Complex":m=R1.random_num(40,60),l*=.5}colorMode(HSB,360,100,100,100),push();let u=colors[0].color,R=-30*R1.random_int(0,1)+15,h=color((hue(u)+360+R)%360,saturation(u),brightness(u),100);background(h),console.log("base hue: "+hue(h)),console.log("base saturation: "+saturation(h)),console.log("base brightness: "+brightness(h)),console.log("base alpha: "+alpha(h)),console.log("orderedFactor: "+d),console.log("maxNumRibbons: "+m),n=R1.random_num(-1,1),R1.random_num(0,1)<.2&&(n=R6.random_num(-.02,.02)),o=R1.random_num(-.5,.5),r=R1.random_num(-1,1)*referenceRatio,a=R1.random_num(-1,1)*referenceRatio,e=R1.random_num(.05,.8)*imageDimension,t=0,colorMode(HSB,360,100,100,100);for(let u=0;u<m;u++){let m,R=R7.random_num(l,1-l),h=R7.random_num(l,1-l);push(),i=u>0?colors[R7.random_int(0,colors.length-1)]:colors[colors.length-1],stroke(i.color),m=imageDimension<1400?.001:.05,strokeWeight(m*imageDimension),angleMode(DEGREES);let g=R7.random_num(0,1);switch(Organization){case"Chaotic":n=R8.random_num(-1,1),g<.1&&(n=R9.random_num(-.02,.02)),o=R8.random_num(-.5,.5),r=R8.random_num(-1,1)*referenceRatio,a=R8.random_num(-1,1)*referenceRatio,e=R8.random_num(.05,.8)*imageDimension,t=50*Math.pow(R8.random_num(.1,1),8);break;case"Ordered":e=R8.random_num(.05,.8)*imageDimension;break;case"Emergent":n=R8.random_num(-1,1),g<.1&&(n=R9.random_num(-.02,.02)),o=R8.random_num(-.5,.5),r=R8.random_num(-1,1)*referenceRatio,a=R8.random_num(-1,1)*referenceRatio,e=R8.random_num(.05,.8)*imageDimension}switch(Complexity){case"Minimal":e*=R8.random_num(2,4);break;case"Balanced":e*=R8.random_num(1,2);break;case"Complex":e*=R8.random_num(.5,1)}let _=R*imageDimension,p=h*imageDimension;if("Ordered"===Organization){let e=(1-2*l)*imageDimension;_=l*imageDimension+R8.random_int(0,s)*e/s,p=l*imageDimension+R8.random_int(0,c)*e/c,translate(_,p),rotate(360/d*R8.random_int(0,d-1))}else translate(_+(2*R8.random_dec()-1)*Math.pow(R8.random_dec(),3)*.1,p+(2*R8.random_dec()-1)*Math.pow(R8.random_dec(),3)*.1);let f=0,w=0;for(let m=0;m<referenceDimension;m++)push(),f+=.1,w=t>0?(3*noise(.8*m)-1)*e:0,rotate(m*n),line(0,0,0,e+w),pop(),rotate(o),translate(r*R8.random_num(1-t,1+t),a*R8.random_num(1-t,1+t));pop()}return canvas.toDataURL()}function getOrderedStart(){}function generatePalette(e){let n,o,r,a,t,m,i=[],s=[],c=R1.random_num(0,360),d=[];switch(e){case"DawnWhisper":c=R5.random_num(330,440)%360;break;case"TempestSurge":c=R6.random_num(180,330)}switch(colorScheme){case"monochromatic":d=Array(5).fill(c);break;case"analogous":n=R2.random_int(4,8);for(let e=0;e<n;e++)d.push((c+e*R3.random_num(10,20))%360);break;case"analogous_split":n=R2.random_int(4,7);for(let e=0;e<n;e++)d.push((c+12*e)%360);d[d.length-1]=(d[0]+300)%360;break;case"complementary":d=[c,(c+180)%360];break;case"splitComplementary":d=[c,(c+150)%360,(c+210)%360];break;case"triadic":d=[c,(c+120)%360,(c+240)%360];break;case"square":d=[c,(c+90)%360,(c+180)%360,(c+270)%360];break;case"tetradic":n="Chaotic"==Organization&&"Minimal"==Complexity?3:R9.random_int(3,5);for(let e=0;e<n;e++)d.push((c+72*e)%360);break;case"hexadic":n="Chaotic"==Organization&&"Minimal"==Complexity?3:R9.random_int(3,6);for(let e=0;e<n;e++)d.push((c+60*e)%360)}for(let e=0;e<d.length;e++)s.push(1/d.length);s=shuffle(s);for(let n=0;n<d.length;n++){switch(e){case"WildCompass":o=R3.random_num(40,80),r=R3.random_num(40,100),a=d[n],t=15;break;case"Aurora":o=R3.random_num(80,100),r=R3.random_num(80,100),a=(d[n]+120)%360,t=15;break;case"DawnWhisper":a=d[n],R4.random_dec()>.3?(o=R4.random_num(10,40),r=R4.random_num(95,100)):(o=R4.random_num(30,90),r=R4.random_num(95,100)),0==n&&(o=R4.random_num(10,50),r=R4.random_num(90,100)),t=15;break;case"TempestSurge":a=d[n],R4.random_dec()>.2?(o=R5.random_num(20,80),r=R5.random_num(5,55)):(o=R5.random_num(30,50),r=R5.random_num(40,70)),0==n&&(o=R5.random_num(10,80),r=R5.random_num(10,30)),t=15}i.push({color:color(a,o,r,t),weight:s[n],hue:d[n]})}switch(e){case"TempestSurge":m=i.length-1,i[m].color=color(hue(i[m].color),R4.random_num(10,60),R4.random_num(95,100),alpha(i[m].color));break;case"DawnWhisper":m=i.length-1,i[m].color=color(hue(i[m].color),R5.random_num(40,90),R5.random_num(90,95),alpha(i[m].color))}return i}function normalizeWeights(e){let n=Array.apply(null,{length:e.length}),o=e.reduce((function(e,n){return e+n}),0);return e.forEach((function(e,r){n[r]=1*e/o})),n}function weightedRandom(e){let n=e.reduce(((e,n)=>e+n.weight),0),o=R10.random_num(0,n),r=0;for(let n of e)if(r+=n.weight,o<=r)return n;return e[e.length-1]}function getHueTemperature(e){return e>=10&&e<=50||e>=310&&e<=360?"Warm":"Cool"}function roundToNearest(e,n){return Math.round(e/n)*n}function rnd(){return seed^=seed<<13,seed^=seed>>17,seed^=seed<<5,(seed<0?1+~seed:seed)%1e3/1e3}function range(e,n){return void 0===n&&(n=e,e=0),rnd()*(n-e)+e}function rangeFloor(e,n){return void 0===n&&(n=e,e=0),Math.floor(range(e,n))}console.log("Palette: "+Palette),console.log("Complexity: "+Complexity),console.log("Organization: "+Organization);